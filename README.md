# Telegram Бот для создания постов в канале

Бот для автоматизации создания и публикации постов о товарах в Telegram канале.

## Функционал

- ✅ Выбор категории товара (смартфоны Android/Apple, ноутбуки, ПК, другая техника)
- ✅ Автоматический поиск характеристик товара в интернете
- ✅ Редактирование характеристик вручную
- ✅ Загрузка фотографий товара (до 12 штук)
- ✅ Формирование красивого поста с характеристиками
- ✅ Система модерации постов администратором
- ✅ Планирование публикации постов
- ✅ Автоматическая публикация в канал

## Установка

1. Клонируйте репозиторий или скачайте файлы

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Заполните `.env` файл:
   - `BOT_TOKEN` - токен бота (получить у [@BotFather](https://t.me/BotFather))
   - `ADMIN_ID` - ваш Telegram ID (узнать у [@userinfobot](https://t.me/userinfobot))
   - `CHANNEL_ID` - ID канала для публикации (формат: `@channel_username` или `-1001234567890`)

5. Добавьте бота в канал как администратора с правами на публикацию сообщений

## Запуск

```bash
python main.py
```

## Использование

1. Отправьте боту команду `/start`
2. Выберите категорию товара
3. Введите название товара
4. Проверьте найденные характеристики (можно изменить)
5. Отправьте фотографии товара (до 12 штук)
6. Отправьте ссылку на объявление Авито
7. Пост будет отправлен администратору на модерацию
8. Администратор одобряет или отклоняет пост
9. При одобрении указывается время публикации
10. Пост автоматически публикуется в канал в указанное время

## Структура проекта

```
.
├── main.py              # Главный файл бота
├── config.py            # Конфигурация
├── database.py          # Работа с базой данных
├── globals.py           # Глобальные объекты (bot, db)
├── handlers.py          # Обработчики команд и диалогов
├── moderation.py        # Обработчики модерации
├── product_search.py    # Поиск характеристик товаров
├── post_formatter.py    # Форматирование постов
├── scheduler.py         # Планировщик публикаций
├── requirements.txt     # Зависимости
├── .env.example         # Пример файла конфигурации
└── README.md            # Документация
```

## Примечания

- Бот использует SQLite для хранения данных
- Поиск характеристик товаров работает через Google поиск (упрощенная версия)
- Для более точного поиска характеристик рекомендуется использовать специализированные API
- Максимальное количество фотографий: 12 штук
- Планировщик проверяет запланированные посты каждую минуту

## Лицензия

MIT

